{"version":3,"file":"js/571.afff7b37.js","mappings":"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","sources":["webpack://volunteer_aid/./src/views/bgViews/scoreRanks.vue","webpack://volunteer_aid/./src/views/bgViews/scoreRanks.vue?72c5"],"sourcesContent":["<template>\r\n  <div style=\"width: 100%;height: 100vh;color:var(--color-neutral-10);margin: 0 auto\">\r\n    <div style=\"padding: 40px 0 0 0;margin: 0 auto;max-width: 1550px;width: 90%;\">\r\n      <p style=\"font-size: 24px;font-weight: bold;margin-bottom: 20px\">一分一段表管理</p>\r\n    </div>\r\n    <div style=\"width: 100%;height: calc(100% - 96px);position: relative;overflow-y: auto;\">\r\n      <div style=\"width: 90%;height: 100%;margin: 0 auto;max-width: 1550px;\">\r\n        <div style=\"margin-bottom: 20px;width: 100%;position: relative\">\r\n          <v-btn :disabled=\"data.loading\" style=\"margin-right: 10px\" variant=\"text\"\r\n                 @click=\"data.currentDisplay=0;getTable()\"\r\n                 :style=\"{\r\n            backgroundColor:data.currentDisplay==0?'var(--color-neutral-3)':'unset'\r\n          }\"\r\n          >今年</v-btn>\r\n          <v-btn :disabled=\"data.loading\" style=\"margin-right: 10px\" variant=\"text\"\r\n                 @click=\"data.currentDisplay=1;getTable()\"\r\n                 :style=\"{\r\n            backgroundColor:data.currentDisplay==1?'var(--color-neutral-3)':'unset'\r\n          }\"\r\n          >前1年</v-btn>\r\n          <v-btn :disabled=\"data.loading\" style=\"margin-right: 10px\" variant=\"text\"\r\n                 @click=\"data.currentDisplay=2;getTable()\"\r\n          :style=\"{\r\n            backgroundColor:data.currentDisplay==2?'var(--color-neutral-3)':'unset'\r\n          }\"\r\n          >前2年</v-btn>\r\n          <v-btn :disabled=\"data.loading\" style=\"margin-right: 10px\" variant=\"text\"\r\n                 @click=\"data.currentDisplay=3;getTable()\"\r\n          :style=\"{\r\n            backgroundColor:data.currentDisplay==3?'var(--color-neutral-3)':'unset'\r\n          }\"\r\n          >前3年</v-btn>\r\n          <a-select :disabled=\"data.loading\" @change=\"selectProvinceChanged\" v-model=\"data.selectedProvinceName\" style=\"width:180px;height: 36px;margin-right: 5px;position: relative;top: 1px\" placeholder=\"省份\">\r\n            <a-option v-for=\"item in data.provinceTypes\">{{ item.name }}</a-option>\r\n          </a-select>\r\n          <a-select :disabled=\"data.loading\" v-model=\"data.selectedProvinceSelectedTypeName\" style=\"width:180px;height: 36px;margin-right: 5px;position: relative;top: 1px\" placeholder=\"类别\">\r\n            <a-option v-for=\"item in data.selectedProvinceType\">{{ item.name }}</a-option>\r\n          </a-select>\r\n          <v-btn :loading=\"data.loading\" style=\"margin-right: 10px\" variant=\"text\"\r\n                 @click=\"getTable\"\r\n          >刷新</v-btn>\r\n          <a-trigger trigger=\"click\" :unmount-on-close=\"false\">\r\n            <v-btn :disabled=\"data.loading\" style=\"margin-right: 10px\" variant=\"text\"\r\n\r\n            >导入</v-btn>\r\n            <template #content>\r\n              <div style=\"padding: 20px 20px;border-radius: 10px;background-color: var(--color-neutral-1);box-shadow: 0 4px 10px rgba(0,0,0,0.1);max-width: 300px\">\r\n                <p style=\"color: var(--color-neutral-10)\">选择的表格文件的第一张工作表应包含导入数据，并且工作表从A1单元格到J1单元格的内容应依次为：省份、类型、年份、分数、位次、批次、当前分数人数、位次范围、批次分数线、当前总人数。</p>\r\n                <a-upload @success=\"imported\" :action=\"appData.serverURL + '/bg/scoreRank/import'\"></a-upload>\r\n              </div>\r\n            </template>\r\n          </a-trigger>\r\n          <v-btn :disabled=\"data.loading\" style=\"margin-right: 0px\" variant=\"text\"\r\n            @click=\"deleteAllTable\"\r\n          >清空全部表</v-btn>\r\n          <v-btn :disabled=\"data.loading\" style=\"margin-right: 0px\" variant=\"text\"\r\n            @click=\"deleteCurrentTable\"\r\n          >清空当前表</v-btn>\r\n        </div>\r\n        <a-table :loading=\"data.loading\" style=\"width: 100%;margin-bottom: 40px;\" :columns=\"[\r\n            {\r\n              dataIndex:'province',\r\n              title:'省份'\r\n            },\r\n            {\r\n              dataIndex:'type',\r\n              title:'种类'\r\n            },\r\n            {\r\n              dataIndex:'yearSub',\r\n              title:'年份差'\r\n            },\r\n            {\r\n              dataIndex:'score',\r\n              title:'分数'\r\n            },\r\n            {\r\n              dataIndex:'ranks',\r\n              title:'位次'\r\n            },\r\n            {\r\n              dataIndex:'batch',\r\n              title:'批次'\r\n            },\r\n            {\r\n              dataIndex:'num',\r\n              title:'当前分数人数'\r\n            },\r\n            {\r\n              dataIndex:'rankRange',\r\n              title:'位次区间'\r\n            },\r\n            {\r\n              dataIndex:'controlScore',\r\n              title:'批次分数线'\r\n            },\r\n            {\r\n              dataIndex:'total',\r\n              title:'当前总人数'\r\n            },\r\n        ]\" :data=\"data.table\" />\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport tool from '@/utlis/tool'\r\nimport config from '@/config'\r\n\r\nexport default {\r\n  name: '',\r\n  data() {\r\n    return {\r\n      data:{\r\n        currentDisplay:1,\r\n        table:[],\r\n        loading:false,\r\n        showRightMenu:true,\r\n        rightTitle:'菜单',\r\n        provinceTypes:[],\r\n        selectedProvinceName:'',\r\n        selectedProvinceType:undefined,\r\n        selectedProvinceSelectedTypeName:'',\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    imported(){\r\n      this.getTable()\r\n    },\r\n    async deleteAllTable(){\r\n      this.data.loading = true\r\n      await tool.axiosPostWithCheckStatus(config.serverURL,'/bg/scoreRank/delete',{\r\n        deleteAll:true,\r\n        province:this.data.selectedProvinceName,\r\n        type:this.data.selectedProvinceSelectedTypeName,\r\n        yearSub:this.data.currentDisplay,\r\n        token:this.bgData.loginedAdminInfo.token\r\n      })\r\n      this.data.loading = false\r\n      this.getTable()\r\n    },\r\n    async deleteCurrentTable(){\r\n      this.data.loading = true\r\n      await tool.axiosPostWithCheckStatus(config.serverURL,'/bg/scoreRank/delete',{\r\n        deleteAll:false,\r\n        province:this.data.selectedProvinceName,\r\n        type:this.data.selectedProvinceSelectedTypeName,\r\n        yearSub:this.data.currentDisplay,\r\n        token:this.bgData.loginedAdminInfo.token\r\n      })\r\n      this.data.loading = false\r\n      this.getTable()\r\n    },\r\n    async getTable(){\r\n      this.data.loading = true\r\n      let re = await tool.axiosPostWithCheckStatus(config.serverURL,'/bg/scoreRank/list',{\r\n        token:this.bgData.loginedAdminInfo.token,\r\n        province:this.data.selectedProvinceName,\r\n        type:this.data.selectedProvinceSelectedTypeName,\r\n        yearSub:this.data.currentDisplay\r\n      })\r\n      this.data.table = re.results\r\n      this.data.loading = false\r\n    },\r\n    selectProvinceChanged(){\r\n      let item = ''\r\n      for(let i=0;i<this.data.provinceTypes.length;i++){\r\n        if(this.data.provinceTypes[i].name==this.data.selectedProvinceName){\r\n          item = this.data.provinceTypes[i]\r\n          break\r\n        }\r\n      }\r\n      this.data.selectedProvinceType = item.type\r\n    },\r\n    async getProvinceTypes(){\r\n      let re = (await tool.axiosPost(config.serverURL ,'/bg/crawler/SRTTypes',{\r\n        token:this.bgData.loginedAdminInfo.token\r\n      }))\r\n      this.data.provinceTypes = re.results\r\n    },\r\n    async deleteYearScoreRankingTable(yearSub){\r\n      this.data.showRightMenu=false\r\n    },\r\n  },\r\n\r\n  //生命周期 - 挂载完成（可以访问DOM元素）\",html模板已渲染\r\n  mounted() {\r\n    this.getProvinceTypes()\r\n  },\r\n\r\n  props: {\r\n    appData:undefined,\r\n    bgData:undefined\r\n  },\r\n\r\n  //监听属性 类似于data概念\",\r\n  computed: {},\r\n\r\n  //监控data中的数据变化\",\r\n  watch: {},\r\n\r\n  //生命周期 - 创建完成（可以访问当前this实例）\",数据模型已加载，方法已加载,html模板已加载,html模板未渲染\r\n  created() {\r\n  },\r\n\r\n  //生命周期 - 挂载之前\",html模板未渲染\r\n  beforeMount() {\r\n  },\r\n\r\n  //生命周期 - 更新之前\",数据模型已更新,html模板未更新\r\n  beforeUpdate() {\r\n  },\r\n\r\n  // 生命周期 - 销毁之前调用\r\n  beforeDestroy() {\r\n  },\r\n\r\n  //生命周期 - 更新之后\",数据模型已更新,html模板已更新\r\n  updated() {\r\n  },\r\n\r\n  //生命周期 - 销毁完成\"\r\n  destroyed() {\r\n  },\r\n\r\n  //如果页面有keep-alive缓存功能，这个函数会触发\",\r\n  activated() {\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.right-back-button:hover{\r\n  background-color: var(--color-neutral-3);\r\n}\r\n\r\n</style>","import { render } from \"./scoreRanks.vue?vue&type=template&id=db8b01ce&scoped=true\"\nimport script from \"./scoreRanks.vue?vue&type=script&lang=js\"\nexport * from \"./scoreRanks.vue?vue&type=script&lang=js\"\n\nimport \"./scoreRanks.vue?vue&type=style&index=0&id=db8b01ce&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-db8b01ce\"]])\n\nexport default __exports__"],"names":["style","disabled","data","loading","variant","currentDisplay","getTable","selectProvinceChanged","selectedProvinceName","placeholder","provinceTypes","item","name","selectedProvinceSelectedTypeName","selectedProvinceType","trigger","content","imported","action","appData","serverURL","deleteAllTable","deleteCurrentTable","columns","table","showRightMenu","rightTitle","undefined","methods","this","deleteAll","province","type","yearSub","token","bgData","loginedAdminInfo","re","results","i","length","getProvinceTypes","deleteYearScoreRankingTable","mounted","props","computed","watch","created","beforeMount","beforeUpdate","beforeDestroy","updated","destroyed","activated","__exports__","render"],"sourceRoot":""}